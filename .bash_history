yum -update -y
yum update -y
yum install npm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash
. ~/.nvm/nvm.sh
nvm install node
node -e "console.log('Running Node.js ' + process.version)"
[ls -lart
ls -lart
mkdir node
cd node
vi package.json
npm install package.json 
ls -lart
vi server.js
touch Dockerfile
vi Dockerfile 
vi server.js
vi Dockerfile 
touch .dockerignore
vi .dockerignore 
yum update -y
java --version
yum install openjdk
yum install openjdk-8-jdk
uname -a
cd /etc
ls -lart
cd
yum install java-1.8.0
yum update -y
sudo amazon-linux-extras install docker
sudo yum install docker
sudo service docker start
docker images
cd /etc
ll group
vi group
sudo usermod -a -G docker ec2-user
cat /etc/group | grep docker
echo $USER
cat /etc/group | grep $USER
cat /etc/group | grep docker
docker info
cd
yum update â€“y
wget -O /etc/yum.repos.d/jenkins.repo \
wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key
yum upgrade
 yum install jenkins java-1.8.0-openjdk-devel -y
systemctl daemon-reload
systemctl start jenkins
systemctl status jenkins
cat /var/lib/jenkins/secrets/initialAdminPassword
systemctl start docker
systemctl status jenkins
systemctl stattus docker
cd node
ll
vi Dockerfile 
docker build . -t learnnode/node-web-app
npm -v
node -v
npm config get registry
cd
reboot
npm cache clean
less /root/.npm/_logs/2021-06-04T14_48_47_367Z-debug.log
!
cd .npm
ls -lart
cd _cacache/
ls -lart
rm -rf tmp/
cd
docker build . -t learnnode/node-web-app
cd node/
ll
docker build . -t learnnode/node-web-app
systemctl start docker
docker build . -t learnnode/node-web-app
docker run -p 49160:8080 -d learnnode/node-web-app
docker images
docker ps -a
curl -ui http://ec2-13-59-234-7.us-east-2.compute.amazonaws.com:49160
curl -i http://ec2-13-59-234-7.us-east-2.compute.amazonaws.com:49160
curl -i ec2-13-59-234-7.us-east-2.compute.amazonaws.com:49160
curl -i ec2-13-59-234-7.us-east-2.compute.amazonaws.com:9090
docker logs 89d6bf7c7093
docker exec -it 89d6bf7c7093 /bin/bash
cd
ll
git config --list
which git
yum update -y
yum install git
git --version
pwd
ll
cd node
ll
cd ..
git init
ls -a
git branch -b dev
git branch
cd node_mp
LL
ll
cd node
ll
cd ..
git add .
git commit -m 'Added my project'
git remote add origin  https://github.com/mandarp21/node_mp.git
git push -u -f origin master
nvm --version
node --version
which docker
which jenkins
systemctl start jenkins
systemctl start docker
aws configure
cd /var/lib/jenkins/workspace/nodejs_deploy'
cd /var/lib/jenkins/workspace/nodejs_deploy
ls -lart
cd node
ll
cp Dockerfile ../
cd ..
ll
cd /etc
grep docker group
echo $ec2-user
echo $USER
id
sudo groupadd docker
sudo usermod -aG docker $USER
grep docker group
systemctl restart docker
systemctl status docker
reboot
systemctl status docker
systemctl restart docker
docker images
cd node
ls -lart
vi Dockerfile
systemctl status docker
systemctl start  docker
systemctl status docker
service status jenkins
service start jenkins
systemctl status jenkins
l
ll
cd node
ll
cat Dockerfile 
cd
sudo usermod -aG docker jenkins
systemctl restart docker
cd /var/run
ll
ll docker.sock 
cd
ll
cd node
ll
docker build . -t nodeD/node-web-app
systemctl status docker
clear
ll
cat Dockerfile 
docker build -t learn2/nodeapp
docker build -t learn/nodeapp
cd
histroy | grep docker
history | grep docker
docker build . -t learnnode/node-web-app
cd ..
ll
ls -lart
cd node
ll
cd node
ls -lart
exit
ls -lart
cd node
ls- lart
ls -lart
history | grep docker
docker build . -t learnnodeone/node-web-app
docker images
chmod 777 /var/run/docker.sock
systemctl restart docker
ll
ls -lart
mv .dockerignore .dockerignore_orig
cd nodre
cd node
ll
cat Dockerfile 
ll
cd node_modules/
ll
ls
cd ..
ll
cd /usr/src/app
cd
ll
cd node
ll
pwd
cat Dockerfile 
ll
find package*.json node_modules/
find -name  package*.json node_modules/
find --name package*.json node_modules/
find -name  package*.json node_modules/
cd node_modules/
ll
ll package*.json
vi package.json
cd package.json
ll
vi package.json
docker ps
systemctl start docker
docker ps
cd node
ll
docker build . -t learntwo/node-web-app
docker run -p 49160:8080 -d learntwo/node-web-app
docker ps
curl localhost:49160
curl localhost:8080
curl localhost:9090
curl localhost:49160
hostname 
netstat -ab
netstat -an
netstat -an | grep list
netstat -an | grep list*
netstat -an | grep LISTENING
netstat -an | grep 49120
netstat -an | grep 49160
curl ec2-13-59-234-7.us-east-2.compute.amazonaws.com:49160
curl localhost:8080
curl localhost:9090
curl localhost:49160
docker ps
docker exec -it ad8f78e5093c /bin/bash
cat Dockerfile 
node --version
nvm --version
 
history | grep docker
ll -a
cd node
ll-a
ll -a
mv .dockerignore_orig .dockerignore
ls -lart
ls -lart
cd node
ls -lart
vi Dockerfile 
cat package.json
cat server.js
node --version
nvm -version
nvm --version
node --version
clear
ll
cat Dockerfile
git --version
cd ..
ll
cd *&
cd *
ll
cd ..
git init
ls -lart
cd node
ll
cat Dockerfile
cd
docker ps
docker images
history | grep docker
curl localhost:49160
docker run -p 49160:8080 -d learnnode/node-web-app
systemctl startr docker
systemctl start docker
docker run -p 49160:8080 -d learnnode/node-web-app
docker ps
docker exec -it ad8f78e5093c /bin/bash
cd node
cat Dockerfile 
cd node
ll
ls -lart 
netstat -n | grep 49160
netstat -n | grep LIST
netstat -an
netstat -an | grep LIST
netstat -an | grep LISTEN
cd node
pwd
ll
systemctl restart docker
cd node 
ll
vi Dockerfile 
ll
git init
git add -A
git commit -m 'dockerfile change'
git remote add origin https://github.com/mandarp21/node_mp.git
git push -u -f Dockerfile
git push -u -f origin master
systemctl restart docker
curl --silent --location "https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz" | tar xz -C /tmp
cd /tmp
ls -lart
docker ps
docker images
cd /tmp
ls -lart
date
cd
sudo mv /tmp/eksctl /usr/local/bin
eksctl version
ls -lart
cd /tmp
ls-lart
ls -lart
cd /usr
cd local/bin
ls -lart
ls -alrt
eksctl --version
reboot
ll
cd node
ll
cat server.js
cat Dockerfile
cd
clear
ls -lart
docker images
cd node
ll
cat Dockerfile
docker images
eksctl --version
eksctl version
cd /usr/local/bin
eksctl version
cd
yum update -y
GitTag --version
GitTag version
git tag 
git tag --version
git tag -v
git tag
git tags
git tag
git tag -n
eksctl version
ll
cd
cd /usr
cd local/bin
ll
./eksctl 
./eksctl version
cd
./eksctl version
echo $HOME 
curl -o kubectl https://amazon-eks.s3.us-west-2.amazonaws.com/1.20.4/2021-04-12/bin/linux/amd64/kubectl
curl -o kubectl.sha256 https://amazon-eks.s3.us-west-2.amazonaws.com/1.20.4/2021-04-12/bin/linux/amd64/kubectl.sha256
openssl sha1 -sha256 kubectl
ls -lart
cat kubectl.sha256 
chmod +x ./kubectl
mkdir -p $HOME/bin && cp ./kubectl $HOME/bin/kubectl && export PATH=$PATH:$HOME/bin
echo 'export PATH=$PATH:$HOME/bin' >> ~/.bashrc
kubectl version --short --client
eksctl create cluster --name node-eks --region us-east-2 --nodegroup-name my-nodes --node-type t3.small --managed
./eksctl create cluster --name node-eks --region us-east-2 --nodegroup-name my-nodes --node-type t3.small --managed
cd /usr/local/bin
./eksctl create cluster --name node-eks --region us-east-2 --nodegroup-name my-nodes --node-type t3.small --managed
cd /usr
cd local/bin
./eksctl delete cluster --region=us-east-2 --name=node-eks
./eksctl create cluster --name node-eks --region us-east-2 --nodegroup-name my-nodes --node-type t3.small --managed
systemctl start docker
docker ps
systemctl start jenkins
systemctl start docker
docker ps
cd /usr/local/bin
history | grep eks
history | grep eksctl
history
history | grep ./eksctl
./eksctl create cluster --name node-eks --region us-east-2 --nodegroup-name my-nodes --node-type t3.small --managed
aws configure
which eksctl 
/usr/local/bin
ll
cd /usr
cd bin
ls -lart
cd ..
cd local/
cd bin
ll
mv eksctl ../../bin
cd ../../bin
ls-lart
ls -lart
which eksctl
eksctl version
cd
which eksctl
eksctl version
eksctl create cluster --help
which root
which eksctl 
eksctl version 
eksctl create cluster --help 
eksctl create cluster --name node-eks --version 1.20 --region us-east-2 --nodegroup-name my-nodes --node-type t3.small --managed
eksctl create cluster --name node-eks --version 1.20 --region us-east-2 --nodegroup-name my-nodes --node-type t3.small --managed
eksctl delete cluster --region=us-east-2 --name=node-eks
eksctl create cluster --name node-eks --version 1.20 --region us-east-2 --nodegroup-name my-nodes --node-type t3.small --managed
cd .ssh
ll
cat authorized_keys 
uid
id
 cat ~/.ssh/id_rsa.pub
ll
cd
ssh-keygen
cd .ssh
ll
cat id_rsa.pub 
cd
ssh jenkins@172.31.41.141
ssh root@172.31.41.141
cd .ssh
ll
cat *pub
ll
cd /var/lib/jenkins/.ssh
cd
cd /var/lib/jenkins/.ssh
cd /var/lib
ll
cd jenkins/
cd .ssh
ll
ls -lart
sudo -iu jenkins
pwd
ls -lart
cd .ssh
mkdir .ssh
cd .ssh/
ll
pwd
exit
docker ps
docker ps
clear
docker ps
kubectl version 
kubectl --version 
kubectl -version 
kubectl version 
kubectl get nodes
kubectl get ns
kubectl create deployment nginx --image=nginx
kubectl get deployments
cd .ssh
ll
cp known_hosts /var/lib/jenkins/.ssh
cat id_rsa
systemctl status docker
systemctl restart  docker
docker ps
ll
ll
vi service.yaml
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl apply -f deployment.yaml 
vi service.yaml 
kubectl apply -f service.yaml 
vi service.yaml 
kubectl apply -f service.yaml 
vi service.yaml 
kubectl apply -f service.yaml 
vi service.yaml 
kubectl apply -f service.yaml 
kubectl get deployments
kubectl get svc
kubectl get pods -o wide
vi service.yaml 
kubectl get pods -o wide
kubectl get services
docker ps
docker stop ef70f5d14a17
cd node
vi Dockerfile 
docker ps
kubectl get nodes -o wide
curl 3.142.77.148
curl -o 3.142.77.148:31721
curl 3.142.77.148:31721
cat  ~/.kube
cd .kube
ll
cat config
hostname 
ping ip-172-31-39-232.us-east-2.compute.internal
cd
kubectl get svc
kubectl get pods
kubectl get ns
kubectl get nodes
kubectl get nodes -o wide
kubectl get pods
kubectl describe pod node-eks-77469d4bbc-2fwf9
kubectl get servoces
kubectl get services
kubectl get endpoints backend-service
reboot
ll
kubectl version
vi deployment.yaml
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl apply -f deployment.yaml 
vi deployment.yaml 
kubectl get pods
kubectl desc pod node-eks-77469d4bbc-9hkz'h
kubectl desc pod node-eks-77469d4bbc-9hkzh
kubectl decribe pod node-eks-77469d4bbc-9hkzh
kubectl describe pod node-eks-77469d4bbc-9hkzh
kubectl decribe pod node-eks-77469d4bbc-mcbbg
kubectl describe pod node-eks-77469d4bbc-mcbbg
kubectl get nodes -o wide
ll
vi deployment.yaml 
kubectl describe pod node-eks-77469d4bbc-mcbbg
kubectl get pods -o wide
kubectl get nodes -o wide
kubectl exec -it node-eks-77469d4bbc-2fwf9 /bin/bash
netstat -an | grep 9090

kubectl exec -it node-eks-77469d4bbc-2fwf9 /bin/bash
kubectl get pods -n web -o wide
kubectl get pods -n default -o wide
ll
vi node-deply.yaml
